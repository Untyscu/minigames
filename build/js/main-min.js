window.onload=(()=>{let e=document.getElementById("board"),n=document.getElementById("panel"),l={line:6,column:6,elements:new Array};function t(e,n,l,t){this.x=e,this.y=n,this.label=l,this.id=t}let i=["red","green","blue","orange"],o=[],d=0;function a(t){let i=0;for(var o=0;o<l.line;o++){let n=document.createElement("div");n.className="row",n.id="row"+o,e.appendChild(n);for(var a=0;a<l.column;a++){let e=document.createElement("div");e.className="column",e.dataset.id=t[i].id,e.style.backgroundColor=t[i].label,e.addEventListener("click",function(){r(e.dataset.id)}),document.getElementById("row"+o).appendChild(e),i++}}n.innerHTML="<h2>"+d+"</h2>"}function r(n){var t;o=[],function e(n,t){o.push(n.id),n.x>0&&t.filter(function(t){t.x==n.x-1&&t.y==n.y&&t.label==n.label&&(o.includes(t.id)||e(t,l.elements))}),n.x<5&&t.filter(function(t){t.x==n.x+1&&t.y==n.y&&t.label==n.label&&(o.includes(t.id)||e(t,l.elements))}),n.y>0&&t.filter(function(t){t.x==n.x&&t.y==n.y-1&&t.label==n.label&&(o.includes(t.id)||e(t,l.elements))}),n.y<5&&t.filter(function(t){t.x==n.x&&t.y==n.y+1&&t.label==n.label&&(o.includes(t.id)||e(t,l.elements))})}(function(e){let n;return l.elements.forEach(function(l){l.id==e&&(n=l)}),n}(n),l.elements),t=o,l.elements.forEach(function(e){t.includes(e.id)&&(e.label=i[Math.floor(4*Math.random())])}),e.innerHTML="",d+=o.length,a(l.elements)}!function(){for(let e=0;e<l.line;e++)for(let n=0;n<l.column;n++)l.elements.push(new t(e,n,i[Math.floor(4*Math.random())],e.toString()+n.toString()))}(),a(l.elements)});